import{a,p as y}from"./chunk-PVWAREVJ-BSVouIsb.js";const u=a.createContext(),n="starwars-favorites";function m({children:s}){const[o,i]=a.useState(()=>{if(typeof window<"u")try{const r=localStorage.getItem(n);return r?JSON.parse(r):[]}catch(r){return console.error("Error loading favorites from localStorage:",r),[]}return[]});a.useEffect(()=>{if(typeof window<"u")try{localStorage.setItem(n,JSON.stringify(o))}catch(r){console.error("Error saving favorites to localStorage:",r)}},[o]);const d=r=>{i(e=>e.some(t=>t.id===r.id&&t.category===r.category)?e:[...e,r])},f=(r,e)=>{i(t=>t.filter(c=>!(c.id===r&&c.category===e)))},l=(r,e)=>o.some(t=>t.id===r&&t.category===e),v=r=>o.filter(e=>e.category===r),g=()=>{i([]),typeof window<"u"&&localStorage.removeItem(n)};return y.jsx(u.Provider,{value:{favorites:o,addFavorite:d,removeFavorite:f,isFavorite:l,getFavoritesByCategory:v,clearAllFavorites:g},children:s})}function w(){const s=a.useContext(u);if(!s)throw new Error("useFavorites must be used within a FavoritesProvider");return s}export{m as F,w as u};
